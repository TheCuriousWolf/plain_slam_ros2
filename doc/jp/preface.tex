\section*{まえがき}

私は2011年から研究室に所属し，そこから移動ロボットの自動走行に関する研究に携わってきました．
当時は3D LiDARがメジャーではなく，LiDARといえば2D LiDARのことを指していました．
そして2D LiDARを用いた自己位置推定方法としては，Monte Carlo Localization（MCL）\cite{DellaertICRA1999}が主流でした．
MCLはパーティクルフィルタベースの手法であり，枠組みとしては確率論的アプローチの手法になります．
この手法は実装が容易，かつ拡張性も十分にあるため，私はこれまで，基本的にMCLを用いて確率的な自己位置推定に関する研究を主に行ってきました．
特に2D LiDARを軸として，新しい枠組みのようなものを提案しようと取り組んできました．
手前味噌で恐縮ですが，一応私の研究の代表作としては以下の論文があります\cite{AkaiJFR2023}．

しかし世の中的には3D LiDARが一般的になっていました．
そんなある日の2023年頃，とある会社の方からご相談を受け，「3D LiDARを使ったLIOが作れないか」と尋ねられました．
LIOの名前はもちろん知っていましたが，あまりLIOに関する情報を追いかけていなかったので，ひとまず有名なFAST LIO~\cite{FAST-LIO}の論文を読んでみました．
そして論文を読んでみた最初の感想が「わからん」でした．
リー群やリー代数の知識が当たり前のように使われていて，それらがわからない人からすると全く何を言っているかわからないという感じでした．
しかしFAST LIOを用いてできていることはものすごいことだなと実感したので，頑張って読み解いてみようと思い，約半年ぐらいかけて最低限の内容は理解し，LIOの実装などができるようになってきました．

しかしLIOが実装できただけではきれいな地図は作れず，そこからリー群を用いたグラフベースSLAMなどの実装なども行いました．
結果として，1年以上かけてリー群を用いたLIOやSLAMの基礎は最低限得られたかなと感じました．
そしてこれらを通して得られた経験を基に，一度LIOやSLAMの機能を整理して実装しなおそうとしたのが{\it plain\_slam\_ros2}になります\footnote{ \url{https://github.com/NaokiAkai/plain_slam_ros2} }．
LIO，特にSLAMのソフトウェアは，基本的にシステムが膨大になってしまい，なかなかソフトの中身を見てみようと思えないかと思いますが，{\it plain\_slam\_ros2}は比較的にコンパクトに構成をまとめることができたと思っています．
そして{\it plain\_slam\_ros2}を作成した後に，「これを作成するために使用した知見をすべてまとめ，今後LiDAR SLAMの勉強を行う方の参考にして貰いたい」と思い，本書\footnote{ 「本書」というように，一応本という体で述べていますが，第3者からのチェック等は受けていないため，間違っている部分もあるかもしれないことを前提に読み進めてください． }を作成することを決意しました．
% {\it plain\_slam\_ros2}の作成や，本書の執筆にあたっては，産総研の小出さんの論文を多数参考にしています（小出さん，本当にありがとうございます）．

本書を理解するためには，以下の数学的知識が前提となります．
%
\begin{itemize}
  \item 線形代数（行列演算，回転行列，剛体変換）
  \item 微分積分（多変数関数の偏微分，ヤコビアン）
\end{itemize}
%
また，以下の知識があると理解がより深まります．
%
\begin{itemize}
  \item 確率・統計（ガウス分布，最尤推定）
  \item 数値最適化（非線形最小二乗法）
  \item リー群・リー代数（${\rm SO}(3)$，${\rm SE}(3)$とその指数写像・対数写像）
\end{itemize}
%
ただし本書を理解する上で最低限必要な数学的な知識は\ref{chap:数学的知識}章で述べています．








